<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Class Monitoring App</title>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#317EFB"/>

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <h1>Class Monitoring App</h1>
    <p class="subtitle">Missed & Makeup Class Entry — Mobile & Desktop</p>
  </header>

  <main class="container">
    <div class="controls">
      <button id="btn-missed">Missed Class Entry</button>
      <button id="btn-makeup">Makeup Class Entry</button>
    </div>

    <!-- MISSED CLASS FORM -->
    <form id="missedForm" class="form hidden" autocomplete="off">
      <h2>Missed Class Entry</h2>

      <div class="grid">
        <label>Date
          <input type="date" id="m_date">
        </label>

        <label>Department
          <input type="text" id="m_dept" placeholder="Department">
        </label>
      </div>

      <div class="grid">
        <label>Course Code & Title
          <input type="text" id="m_course" placeholder="e.g. CSE330 - DBMS">
        </label>

        <label>Room
          <!-- filter + select -->
          <input type="text" id="m_room_filter" class="filter" placeholder="filter rooms...">
          <select id="m_room" size="6"></select>
        </label>
      </div>

      <div class="grid">
        <label>Time Slot
          <input type="text" id="m_time_filter" class="filter" placeholder="filter times...">
          <select id="m_time" size="6"></select>
        </label>

        <label>Teacher Initial
          <input type="text" id="m_teacher_filter" class="filter" placeholder="filter teachers...">
          <select id="m_teacher" size="6"></select>
        </label>
      </div>

      <label>Reason
        <input type="text" id="m_reason" placeholder="Reason (optional)">
      </label>
      <div class="watermark" id="m_teacher_watermark"></div>
      <button type="submit" class="submit">Submit Missed</button>
    </form>

    <!-- MAKEUP CLASS FORM -->
    <form id="makeupForm" class="form hidden" autocomplete="off">
      <h2>Makeup Class Entry</h2>

      <div class="grid">
        <label>Schedule Date
          <input type="date" id="k_schedule">
        </label>

        <label>Department
          <input type="text" id="k_dept_m" placeholder="Department">
        </label>
      </div>

      <div class="grid">
        <label>Course Code & Title
          <input type="text" id="k_course" placeholder="e.g. CSE330 - DBMS">
        </label>

        <label>Teacher Initial
          <input type="text" id="k_teacher_filter" class="filter" placeholder="filter teachers...">
          <select id="k_teacher" size="6"></select>
        </label>
      </div>

      <div class="grid">
        <label>Makeup Date
          <input type="date" id="k_date">
        </label>

        <label>Makeup Time
          <input type="text" id="k_time_filter" class="filter" placeholder="filter times...">
          <select id="k_time" size="6"></select>
        </label>
      </div>

      <div class="grid">
        <label>Makeup Room
          <input type="text" id="k_room_filter" class="filter" placeholder="filter rooms...">
          <select id="k_room" size="6"></select>
        </label>

        <label>Status
          <select id="k_status">
            <option value="Completed">Completed</option>
            <option value="Pending">Pending</option>
          </select>
        </label>
      </div>

      <label>Remarks
        <input type="text" id="k_remarks" placeholder="if Completed provide class attendance or Record Link">
      </label>
      <div class="watermark" id="k_teacher_watermark"></div>
      <button type="submit" class="submit">Submit Makeup</button>
    </form>
  </main>

  <footer>
    <small>Built for Daffodil International University — Class Monitoring</small>
  </footer>

  <script src="script.js" defer></script>

  <script>
    // Show forms
    document.getElementById('btn-missed').addEventListener('click', () => {
      document.getElementById('missedForm').classList.remove('hidden');
      document.getElementById('makeupForm').classList.add('hidden');
    });

    document.getElementById('btn-makeup').addEventListener('click', () => {
      document.getElementById('makeupForm').classList.remove('hidden');
      document.getElementById('missedForm').classList.add('hidden');
    });
  </script>

  <!-- Service worker registration -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('Service Worker registered'))
        .catch(err => console.warn('SW registration failed', err));
    }
  </script>
</body>
</html>