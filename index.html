<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Class Monitoring App</title>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#317EFB">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ================= DASHBOARD ================= -->
<div class="dashboard">
  <div class="card">Total Missed: <span id="totalMissed">0</span></div>
  <div class="card">Completed: <span id="completed">0</span></div>
  <div class="card">Pending: <span id="pending">0</span></div>
</div>

<header>
  <h1>Class Monitoring App</h1>
  <p class="subtitle">Missed & Makeup Class Entry — CSE-DIU</p>
</header>

<main class="container">

  <div class="controls">
    <button id="btn-missed">Missed Class Entry</button>
    <button id="btn-makeup">Makeup Class Entry</button>
    <button id="btn_pending">Pending Makeup</button>
  </div>

  <!-- ================= MISSED CLASS ================= -->
  <form id="missedForm" class="form hidden" autocomplete="off">
    <h2>Missed Class Entry</h2>

    <div class="grid">
      <label>Date <input type="date" id="m_date"></label>
      <label>Department <input type="text" id="m_dept"></label>
    </div>

    <div class="grid">
      <label>Course Code & Title <input type="text" id="m_course"></label>
      <label>Room
        <input type="text" id="m_room_filter" class="filter">
        <select id="m_room" size="6"></select>
      </label>
    </div>

    <div class="grid">
      <label>Time Slot
        <input type="text" id="m_time_filter" class="filter">
        <select id="m_time" size="6"></select>
      </label>

      <label>Teacher Initial
        <input type="text" id="m_teacher_filter" class="filter">
        <select id="m_teacher" size="6"></select>
      </label>
    </div>

    <label>Reason <input type="text" id="m_reason"></label>
    <div class="watermark" id="m_teacher_watermark"></div>
    <button type="submit" class="submit">Submit Missed</button>
  </form>

  <!-- ================= MAKEUP CLASS ================= -->
  <form id="makeupForm" class="form hidden" autocomplete="off">
    <h2>Makeup Class Entry</h2>

    <div class="grid">
      <label>Schedule Date <input type="date" id="k_schedule"></label>
      <label>Department <input type="text" id="k_dept"></label>
    </div>

    <div class="grid">
      <label>Course Code & Title <input type="text" id="k_course"></label>
      <label>Teacher Initial
        <input type="text" id="k_teacher_filter" class="filter">
        <select id="k_teacher" size="6"></select>
      </label>
    </div>

    <div class="grid">
      <label>Makeup Date <input type="date" id="k_date"></label>
      <label>Makeup Time
        <input type="text" id="k_time_filter" class="filter">
        <select id="k_time" size="6"></select>
      </label>
    </div>

    <div class="grid">
      <label>Makeup Room
        <input type="text" id="k_room_filter" class="filter">
        <select id="k_room" size="6"></select>
      </label>

      <label>Status
        <select id="k_status">
          <option value="Pending">Pending</option>
          <option value="Completed">Completed</option>
        </select>
      </label>
    </div>

    <label>Remarks <input type="text" id="k_remarks"></label>
    <div class="watermark" id="k_teacher_watermark"></div>
    <button type="submit" class="submit">Submit Makeup</button>
  </form>

  <!-- ================= PENDING MAKEUP ================= -->
  <div id="pendingSection" class="form hidden">
    <h2>Pending Makeup Classes</h2>

    <div class="table-wrap">
      <table id="pendingTable">
        <thead>
          <tr>
            <th>Schedule Date</th>
            <th>Department</th>
            <th>Course</th>
            <th>Teacher</th>
            <th>Makeup Date</th>
            <th>Time</th>
            <th>Room</th>
            <th>Status</th>
            <th>Remarks</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

</main>

<footer>
  <small>Built for Daffodil International University</small>
</footer>

<!-- ✅ SCRIPT LOAD ORDER (VERY IMPORTANT) -->
<script src="script.js"></script>

<script>
  const missedForm = document.getElementById("missedForm");
  const makeupForm = document.getElementById("makeupForm");
  const pendingSection = document.getElementById("pendingSection");

  document.getElementById("btn-missed").onclick = () => {
    missedForm.classList.remove("hidden");
    makeupForm.classList.add("hidden");
    pendingSection.classList.add("hidden");
  };

  document.getElementById("btn-makeup").onclick = () => {
    makeupForm.classList.remove("hidden");
    missedForm.classList.add("hidden");
    pendingSection.classList.add("hidden");
  };

  document.getElementById("btn_pending").onclick = () => {
    pendingSection.classList.remove("hidden");
    missedForm.classList.add("hidden");
    makeupForm.classList.add("hidden");
    loadPendingMakeup();
  };
</script>

</body>
</html>
